<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="600" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="800" height="600" fill="#1e1e2e" rx="10" ry="10"/>
  
  <!-- Title -->
  <text x="400" y="40" font-family="Arial, sans-serif" font-size="24" fill="#cdd6f4" text-anchor="middle" font-weight="bold">CPU Components and Functionality</text>
  
  <!-- CPU Package -->
  <rect x="100" y="80" width="600" height="450" fill="#313244" stroke="#89b4fa" stroke-width="3" rx="10" ry="10"/>
  
  <!-- Cache Levels -->
  <rect x="120" y="100" width="560" height="80" fill="#45475a" stroke="#f9e2af" stroke-width="2" rx="5" ry="5"/>
  <text x="400" y="130" font-family="Arial, sans-serif" font-size="18" fill="#f9e2af" text-anchor="middle" font-weight="bold">Cache Memory</text>
  
  <!-- L1 Cache -->
  <rect x="140" y="150" width="160" height="20" fill="#f9e2af" stroke="#cdd6f4" stroke-width="1"/>
  <text x="220" y="165" font-family="Arial, sans-serif" font-size="14" fill="#1e1e2e" text-anchor="middle">L1i (Instruction Cache)</text>
  
  <rect x="320" y="150" width="160" height="20" fill="#f9e2af" stroke="#cdd6f4" stroke-width="1"/>
  <text x="400" y="165" font-family="Arial, sans-serif" font-size="14" fill="#1e1e2e" text-anchor="middle">L1d (Data Cache)</text>
  
  <!-- L2 Cache -->
  <rect x="500" y="150" width="160" height="20" fill="#f9e2af" stroke="#cdd6f4" stroke-width="1"/>
  <text x="580" y="165" font-family="Arial, sans-serif" font-size="14" fill="#1e1e2e" text-anchor="middle">L2 Cache</text>
  
  <!-- Control Unit -->
  <rect x="120" y="200" width="200" height="60" fill="#45475a" stroke="#f38ba8" stroke-width="2" rx="5" ry="5"/>
  <text x="220" y="235" font-family="Arial, sans-serif" font-size="18" fill="#f38ba8" text-anchor="middle" font-weight="bold">Control Unit</text>
  
  <!-- CPU Clock -->
  <rect x="340" y="200" width="120" height="60" fill="#45475a" stroke="#f38ba8" stroke-width="2" rx="5" ry="5"/>
  <text x="400" y="235" font-family="Arial, sans-serif" font-size="18" fill="#f38ba8" text-anchor="middle" font-weight="bold">CPU Clock</text>
  
  <!-- MMU -->
  <rect x="480" y="200" width="200" height="60" fill="#45475a" stroke="#89b4fa" stroke-width="2" rx="5" ry="5"/>
  <text x="580" y="235" font-family="Arial, sans-serif" font-size="18" fill="#89b4fa" text-anchor="middle" font-weight="bold">Memory Management Unit</text>
  
  <!-- ALU Section -->
  <rect x="120" y="280" width="560" height="230" fill="#45475a" stroke="#a6e3a1" stroke-width="2" rx="5" ry="5"/>
  <text x="400" y="310" font-family="Arial, sans-serif" font-size="18" fill="#a6e3a1" text-anchor="middle" font-weight="bold">Arithmetic Logic Unit (ALU)</text>
  
  <!-- Registers -->
  <rect x="140" y="330" width="120" height="40" fill="#a6e3a1" stroke="#cdd6f4" stroke-width="1"/>
  <text x="200" y="355" font-family="Arial, sans-serif" font-size="16" fill="#1e1e2e" text-anchor="middle">A Register</text>
  
  <rect x="140" y="380" width="120" height="40" fill="#a6e3a1" stroke="#cdd6f4" stroke-width="1"/>
  <text x="200" y="405" font-family="Arial, sans-serif" font-size="16" fill="#1e1e2e" text-anchor="middle">B Register</text>
  
  <rect x="140" y="430" width="120" height="40" fill="#a6e3a1" stroke="#cdd6f4" stroke-width="1"/>
  <text x="200" y="455" font-family="Arial, sans-serif" font-size="16" fill="#1e1e2e" text-anchor="middle">Accumulator</text>
  
  <!-- Instruction Registers -->
  <rect x="300" y="330" width="160" height="40" fill="#a6e3a1" stroke="#cdd6f4" stroke-width="1"/>
  <text x="380" y="355" font-family="Arial, sans-serif" font-size="16" fill="#1e1e2e" text-anchor="middle">Instruction Register</text>
  
  <rect x="300" y="380" width="160" height="40" fill="#a6e3a1" stroke="#cdd6f4" stroke-width="1"/>
  <text x="380" y="405" font-family="Arial, sans-serif" font-size="16" fill="#1e1e2e" text-anchor="middle">Instruction Pointer</text>
  
  <!-- Hyperthreading -->
  <rect x="500" y="330" width="160" height="40" fill="#a6e3a1" stroke="#cdd6f4" stroke-width="1" stroke-dasharray="5,3"/>
  <text x="580" y="355" font-family="Arial, sans-serif" font-size="16" fill="#1e1e2e" text-anchor="middle">Instruction Register 2</text>
  
  <rect x="500" y="380" width="160" height="40" fill="#a6e3a1" stroke="#cdd6f4" stroke-width="1" stroke-dasharray="5,3"/>
  <text x="580" y="405" font-family="Arial, sans-serif" font-size="16" fill="#1e1e2e" text-anchor="middle">Instruction Pointer 2</text>
  
  <text x="580" y="455" font-family="Arial, sans-serif" font-size="14" fill="#cdd6f4" text-anchor="middle" font-style="italic">(Hyperthreading)</text>
  
  <!-- RAM (outside CPU) -->
  <rect x="100" y="550" width="600" height="30" fill="#45475a" stroke="#cba6f7" stroke-width="2" rx="5" ry="5"/>
  <text x="400" y="570" font-family="Arial, sans-serif" font-size="16" fill="#cba6f7" text-anchor="middle">Random Access Memory (RAM)</text>
  
  <!-- Arrows -->
  <!-- Cache to ALU -->
  <path d="M 400,180 L 400,280" stroke="#f9e2af" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Control Unit connections -->
  <path d="M 220,260 L 220,280" stroke="#f38ba8" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 320,230 L 340,230" stroke="#f38ba8" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- MMU to RAM -->
  <path d="M 580,260 L 580,550" stroke="#89b4fa" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- CPU Clock to Control Unit -->
  <path d="M 340,230 L 320,230" stroke="#f38ba8" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Arrow Marker -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#cdd6f4"/>
    </marker>
  </defs>
  
  <!-- Instruction Cycle -->
  <rect x="120" y="490" width="560" height="40" fill="#313244" stroke="#cdd6f4" stroke-width="1" rx="5" ry="5"/>
  <text x="400" y="515" font-family="Arial, sans-serif" font-size="16" fill="#cdd6f4" text-anchor="middle">Instruction Cycle: Fetch → Decode → Execute → Store</text>
  
  <!-- Legend -->
  <rect x="650" y="100" width="20" height="10" fill="#f9e2af"/>
  <text x="675" y="110" font-family="Arial, sans-serif" font-size="12" fill="#cdd6f4" text-anchor="start">Cache</text>
  
  <rect x="650" y="120" width="20" height="10" fill="#f38ba8"/>
  <text x="675" y="130" font-family="Arial, sans-serif" font-size="12" fill="#cdd6f4" text-anchor="start">Control/Clock</text>
  
  <rect x="650" y="140" width="20" height="10" fill="#89b4fa"/>
  <text x="675" y="150" font-family="Arial, sans-serif" font-size="12" fill="#cdd6f4" text-anchor="start">Memory Management</text>
  
  <rect x="650" y="160" width="20" height="10" fill="#a6e3a1"/>
  <text x="675" y="170" font-family="Arial, sans-serif" font-size="12" fill="#cdd6f4" text-anchor="start">ALU/Registers</text>
  
  <rect x="650" y="180" width="20" height="10" fill="#cba6f7"/>
  <text x="675" y="190" font-family="Arial, sans-serif" font-size="12" fill="#cdd6f4" text-anchor="start">RAM (External)</text>
</svg>
